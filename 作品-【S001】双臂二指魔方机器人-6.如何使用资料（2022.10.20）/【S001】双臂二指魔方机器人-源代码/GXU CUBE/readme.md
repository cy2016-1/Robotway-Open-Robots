双臂二指魔方机器人

作者：孙尹同 黄祖杰

魔方，又名鲁比克方块，最早是由匈牙利布达佩斯建筑学院厄尔诺.鲁比克教授于1974年发明的机械益智玩具。魔方拥有竞速、盲拧、单拧等多种玩法，风靡程度至今未衰，每年都会举办大小赛事，是最受欢迎的智力游戏之一。
  这款双臂二指魔方机器人主要基于探索者Rob-GS01实验箱搭建，是一款可以自主还原魔方的娱乐型机器人。如果在居家拧魔方的过程中无法还原魔方，只需交给它便能在30s内完成还原。自认为是魔方高手的同学也可以人工手拧与机器人复原进行竞速比赛。因此，作品是一款很好的益智类竞速娱乐机器人。
  本作品的技术信息可分为三个模块，分别是机械结构、视觉识别和算法控制。换言之，本机器人的控制系统具体采用上位机(电脑)和下位机(单片机控制板)合作完成拧魔方的任务。

外部框架使用探索者铝制零件搭建，可用于安放四个小型摄像头，以及安装两个二指机械夹爪。

电子模块主要使用了Basra控制板，Bigfish扩展板、SH-ST步进电机扩展板，以及四个USB摄像头等。

组装好机械结构，并连接好电路后，调整室内光源，直至四个摄像头传递的图像都可以清晰准确地反映出魔方色块的颜色（eg:光源不好，红色在摄像头中的颜色为橘红,影响后续的识别工作）。

运行Open CV python程序，即Python_project文件夹中的example.py,程序开始识别摄像头上传的图像，主要利用Open CV函数库对采集的图像进行选择、透射变换、色彩空间转换等操作后，通过kmeans聚类算法进行颜色分割，以减少外部噪声干扰，从而求出魔方不同情况下色块对应的编码。接下来的任务交给算法控制;视觉识别给出的数组先传递给Kociemba二阶段算法，Kociemba二阶段算法通过该数组得到魔方每个面的情况，给出一个20~30步的解决方案，通过串口通讯传递给单片机。

单片机内已经写好了包含机械手旋转方向变换、步进电机和舵机的转速等参数的拧魔方的具体程序（cube_solver.ino），只要控制电机、舵机输出轴旋转即可控制机械手顺、逆时针旋转、手指开、闭。单片机收到上位机发来的信号后可立即驱动步进电机、舵机运动，操作机械手使魔方成功还原。

开源资料请在机器谱网（www.robotway.com）“样机”分类下查询。